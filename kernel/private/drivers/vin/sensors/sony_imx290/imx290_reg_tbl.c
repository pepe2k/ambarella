/*
 * kernel/private/drivers/ambarella/vin/sensors/sony_imx290/imx290_reg_tbl.c
 *
 * History:
 *    2015/03/24 - [Hao Zeng] Create
 *
 * Copyright (C) 2004-2015, Ambarella, Inc.
 *
 * All rights reserved. No Part of this file may be reproduced, stored
 * in a retrieval system, or transmitted, in any form, or by any means,
 * electronic, mechanical, photocopying, recording, or otherwise,
 * without the prior consent of Ambarella, Inc.
 *
 */

/* ========================================================================== */
static const struct imx290_video_format_reg_table imx290_video_format_tbl = {
	.table[0] = {
		.ext_reg_fill = NULL,
		.regs = {
			/* linear: 1080p120 10bits */
			{IMX290_ADBIT0,			0x00},
			{IMX290_ADBIT1,			0x1D},
			{IMX290_ADBIT2,			0x12},
			{IMX290_ADBIT3,			0x37},
			{IMX290_WINMODE,		0x00},
			{IMX290_FRSEL,			0x00},
			{IMX290_VMAX_LSB,		0x65},
			{IMX290_VMAX_MSB,		0x04},
			{IMX290_VMAX_HSB,		0x00},
			{IMX290_HMAX_LSB,		0x4C},
			{IMX290_HMAX_MSB,		0x04},
			{IMX290_ODBIT,			0xF0},
			{IMX290_BLKLEVEL_LSB,	0x3C},
			{IMX290_BLKLEVEL_MSB,	0x00},
			/* DOL related */
			{IMX290_WDMODE,			0x00},
			{IMX290_SHS1_LSB,		0x00},
			{IMX290_SHS1_MSB,		0x00},
			{IMX290_SHS1_HSB,		0x00},
			{IMX290_SHS2_LSB,		0x00},
			{IMX290_SHS2_MSB,		0x00},
			{IMX290_SHS2_HSB,		0x00},
			{IMX290_SHS3_LSB,		0x00},
			{IMX290_SHS3_MSB,		0x00},
			{IMX290_SHS3_HSB,		0x00},
			{IMX290_PATTERN,		0x01},
			{IMX290_XVSCNT_INT,		0x00},
			{IMX290_NULL0SIZE,		0x01},
			{IMX290_YOUTSIZE_LSB,	0x49},
			{IMX290_YOUTSIZE_MSB,	0x04},
			{IMX290_HBLANK_LSB,		0xFC},
			{IMX290_HBLANK_MSB,		0x00},
		},
		.width = 1920,
		.height = 1080,
		.format = AMBA_VIDEO_FORMAT_PROGRESSIVE,
		.type = AMBA_VIDEO_TYPE_RGB_RAW,
		.bits = AMBA_VIDEO_BITS_10,
		.ratio = AMBA_VIDEO_RATIO_16_9,
		.srm = 0,
		.sw_limit = -1,
		.max_fps = AMBA_VIDEO_FPS_120,
		.auto_fps = AMBA_VIDEO_FPS_29_97,
		.pll_index = 0,
		.slvs_eav_col	= 1948,
		.slvs_sav2sav_dist = 2640,
		.lane_num = 8,
	},
	.table[1] = {
		.ext_reg_fill = NULL,
		.regs = {
			/* linear: 720p120 10bits */
			{IMX290_ADBIT0,			0x00},
			{IMX290_ADBIT1,			0x1D},
			{IMX290_ADBIT2,			0x12},
			{IMX290_ADBIT3,			0x37},
			{IMX290_WINMODE,		0x10},
			{IMX290_FRSEL,			0x00},
			{IMX290_VMAX_LSB,		0xEE},
			{IMX290_VMAX_MSB,		0x02},
			{IMX290_VMAX_HSB,		0x00},
			{IMX290_HMAX_LSB,		0x72},
			{IMX290_HMAX_MSB,		0x06},
			{IMX290_ODBIT,			0xE0},
			{IMX290_BLKLEVEL_LSB,	0x3C},
			{IMX290_BLKLEVEL_MSB,	0x00},
			/* DOL related */
			{IMX290_WDMODE,			0x00},
			{IMX290_SHS1_LSB,		0x00},
			{IMX290_SHS1_MSB,		0x00},
			{IMX290_SHS1_HSB,		0x00},
			{IMX290_SHS2_LSB,		0x00},
			{IMX290_SHS2_MSB,		0x00},
			{IMX290_SHS2_HSB,		0x00},
			{IMX290_SHS3_LSB,		0x00},
			{IMX290_SHS3_MSB,		0x00},
			{IMX290_SHS3_HSB,		0x00},
			{IMX290_PATTERN,		0x01},
			{IMX290_XVSCNT_INT,		0x00},
			{IMX290_NULL0SIZE,		0x01},
			{IMX290_YOUTSIZE_LSB,	0xD9},
			{IMX290_YOUTSIZE_MSB,	0x02},
			{IMX290_HBLANK_LSB,		0xFC},
			{IMX290_HBLANK_MSB,		0x00},
		},
		.width = 1280,
		.height = 720,
		.format = AMBA_VIDEO_FORMAT_PROGRESSIVE,
		.type = AMBA_VIDEO_TYPE_RGB_RAW,
		.bits = AMBA_VIDEO_BITS_10,
		.ratio = AMBA_VIDEO_RATIO_16_9,
		.srm = 0,
		.sw_limit = -1,
		.max_fps = AMBA_VIDEO_FPS_120,
		.auto_fps = AMBA_VIDEO_FPS_29_97,
		.pll_index = 1,
		.slvs_eav_col	= 1308,
		.slvs_sav2sav_dist = 2640,
		.lane_num = 4,
	},
	.table[2] = {
		.ext_reg_fill = NULL,
		.regs = {
			/* 2x DOL: 1080p60 10bits */
			{IMX290_ADBIT0, 		0x00},
			{IMX290_ADBIT1, 		0x1D},
			{IMX290_ADBIT2, 		0x12},
			{IMX290_ADBIT3, 		0x37},
			{IMX290_WINMODE,		0x00},
			{IMX290_FRSEL,			0x00},
			{IMX290_VMAX_LSB,		0x65},
			{IMX290_VMAX_MSB,		0x04},
			{IMX290_VMAX_HSB,		0x00},
			{IMX290_HMAX_LSB,		0x4C},
			{IMX290_HMAX_MSB,		0x04},
			{IMX290_ODBIT,			0xF0},
			{IMX290_BLKLEVEL_LSB,	0x3C},
			{IMX290_BLKLEVEL_MSB,	0x00},
			/* DOL related */
			{IMX290_WDMODE, 		0x11},
			{IMX290_SHS1_LSB,		0x02},
			{IMX290_SHS1_MSB,		0x00},
			{IMX290_SHS1_HSB,		0x00},
			{IMX290_SHS2_LSB,		0xC9},
			{IMX290_SHS2_MSB,		0x06},
			{IMX290_SHS2_HSB,		0x00},
			{IMX290_SHS3_LSB,		0x00},
			{IMX290_SHS3_MSB,		0x00},
			{IMX290_SHS3_HSB,		0x00},
			{IMX290_PATTERN,		0x02},
			{IMX290_XVSCNT_INT, 	0x90},
			{IMX290_NULL0SIZE,		0x00},
			{IMX290_YOUTSIZE_LSB,	0xB2},
			{IMX290_YOUTSIZE_MSB,	0x08},
			{IMX290_HBLANK_LSB, 	0xB4},
			{IMX290_HBLANK_MSB, 	0x02},
			{IMX290_DOLHBFIXEN, 	0x01},
		},
		.width = 1920 * 2,
		.height = 1080,
		.format = AMBA_VIDEO_FORMAT_PROGRESSIVE,
		.type = AMBA_VIDEO_TYPE_RGB_RAW,
		.bits = AMBA_VIDEO_BITS_10,
		.ratio = AMBA_VIDEO_RATIO_16_9,
		.srm = 0,
		.sw_limit = -1,
#ifdef USE_1080P_2X_30FPS
		.max_fps = AMBA_VIDEO_FPS_30,
#else
		.max_fps = AMBA_VIDEO_FPS_60,
#endif
		.auto_fps = AMBA_VIDEO_FPS_29_97,
		.pll_index = 0,
		.slvs_eav_col	= IMX290_1080P_H_PIXEL * 2 + 0x2b4,
		.slvs_sav2sav_dist = IMX290_1080P_H_PERIOD * 2,
		.lane_num = 8,
		.hdr_win_offset = {
			.long_start_x = 4 + 8,
			.long_start_y = 21,
			.short1_start_x = 4+8+ IMX290_1080P_H_PIXEL + 0x2b4,
			.short1_start_y = 21 + (IMX290_1080P_2X_RHS1 - 1) / 2,
		},
	},
	.table[3] = {
		.ext_reg_fill = NULL,
		.regs = {
			/* 3x DOL: 1080p30 10bits */
			{IMX290_ADBIT0,			0x00},
			{IMX290_ADBIT1,			0x1D},
			{IMX290_ADBIT2,			0x12},
			{IMX290_ADBIT3,			0x37},
			{IMX290_WINMODE,		0x00},
			{IMX290_FRSEL,			0x00},
			{IMX290_VMAX_LSB,		0x65},
			{IMX290_VMAX_MSB,		0x04},
			{IMX290_VMAX_HSB,		0x00},
			{IMX290_HMAX_LSB,		0x4C},
			{IMX290_HMAX_MSB,		0x04},
			{IMX290_ODBIT,			0xF0},
			{IMX290_BLKLEVEL_LSB,	0x3C},
			{IMX290_BLKLEVEL_MSB,	0x00},
			/* DOL related */
			{IMX290_WDMODE,			0x21},
			{IMX290_SHS1_LSB,		0x08},
			{IMX290_SHS1_MSB,		0x00},
			{IMX290_SHS1_HSB,		0x00},
			{IMX290_SHS2_LSB,		0x0D},
			{IMX290_SHS2_MSB,		0x01},
			{IMX290_SHS2_HSB,		0x00},
			{IMX290_SHS3_LSB,		0x93},
			{IMX290_SHS3_MSB,		0x01},
			{IMX290_SHS3_HSB,		0x00},
			{IMX290_PATTERN,		0x02},
			{IMX290_XVSCNT_INT,		0xB0},
			{IMX290_NULL0SIZE,		0x00},
			{IMX290_YOUTSIZE_LSB,	0x17},
			{IMX290_YOUTSIZE_MSB,	0x0D},
			{IMX290_HBLANK_LSB,		0xB4},
			{IMX290_HBLANK_MSB,		0x02},
			{IMX290_DOLHBFIXEN, 	0x01},
		},
		.width = 1920 * 3,
		.height = 1080,
		.format = AMBA_VIDEO_FORMAT_PROGRESSIVE,
		.type = AMBA_VIDEO_TYPE_RGB_RAW,
		.bits = AMBA_VIDEO_BITS_10,
		.ratio = AMBA_VIDEO_RATIO_16_9,
		.srm = 0,
		.sw_limit = -1,
		.max_fps = AMBA_VIDEO_FPS_30,
		.auto_fps = AMBA_VIDEO_FPS_29_97,
		.pll_index = 0,
		.slvs_eav_col	= IMX290_1080P_H_PIXEL * 3 + 0x2b4 * 2,
		.slvs_sav2sav_dist = IMX290_1080P_H_PERIOD * 3,
		.lane_num = 8,
		.hdr_win_offset = {
			.long_start_x = 4+8,
			.long_start_y = 21,
			.short1_start_x = 4+8+IMX290_1080P_H_PIXEL+0x2b4,
			.short1_start_y = 21 + (IMX290_1080P_3X_RHS1 - 1) / 3,
			.short2_start_x = 4+8+IMX290_1080P_H_PIXEL * 2 + 0x2b4 * 2,
			.short2_start_y = 21 + (IMX290_1080P_3X_RHS2 - 2) / 3,
		},
	},
	/* add video format table here, if necessary */
};

/* Gain table */
#define IMX290_GAIN_MAX_DB  	240 /* 72dB */

